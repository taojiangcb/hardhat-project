<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.17.2/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.8.5/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.17.2/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.17.2/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Wagmi Hooks 生命周期和阶段","children":[{"content":"1. 组件初始化阶段","children":[{"content":"1.1 <code>useAccount</code>","children":[{"content":"<strong>功能</strong>: 获取当前用户的以太坊账户信息。","children":[],"payload":{"lines":"9,10"}},{"content":"<strong>触发时机</strong>: 组件加载时触发，获取当前账户地址、是否已连接等信息。","children":[],"payload":{"lines":"10,11"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>address</code>: 当前连接的账户地址。","children":[],"payload":{"lines":"12,13"}},{"content":"<code>isConnected</code>: 布尔值，表示是否已连接钱包。","children":[],"payload":{"lines":"13,15"}}],"payload":{"lines":"11,15"}}],"payload":{"lines":"8,9"}},{"content":"1.2 <code>useNetwork</code>","children":[{"content":"<strong>功能</strong>: 获取当前网络的信息，例如网络名称、链 ID 等。","children":[],"payload":{"lines":"16,17"}},{"content":"<strong>触发时机</strong>: 组件加载时触发，获取当前连接的网络信息。","children":[],"payload":{"lines":"17,18"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>chain</code>: 当前网络的信息（链 ID、网络名称等）。","children":[],"payload":{"lines":"19,20"}},{"content":"<code>switchNetwork</code>: 切换网络的函数。","children":[],"payload":{"lines":"20,22"}}],"payload":{"lines":"18,22"}}],"payload":{"lines":"15,16"}},{"content":"1.3 <code>useConnect</code>","children":[{"content":"<strong>功能</strong>: 连接用户钱包，允许选择不同的钱包并进行连接。","children":[],"payload":{"lines":"23,24"}},{"content":"<strong>触发时机</strong>: 在组件加载时触发，用户手动连接钱包时。","children":[],"payload":{"lines":"24,25"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>connect</code>: 用于连接钱包的函数。","children":[],"payload":{"lines":"26,27"}},{"content":"<code>isConnected</code>: 是否已连接钱包。","children":[],"payload":{"lines":"27,29"}}],"payload":{"lines":"25,29"}}],"payload":{"lines":"22,23"}},{"content":"1.4 <code>useDisconnect</code>","children":[{"content":"<strong>功能</strong>: 断开与当前钱包的连接。","children":[],"payload":{"lines":"30,31"}},{"content":"<strong>触发时机</strong>: 当用户断开钱包连接时触发。","children":[],"payload":{"lines":"31,32"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>disconnect</code>: 断开连接的函数。","children":[],"payload":{"lines":"33,35"}}],"payload":{"lines":"32,35"}}],"payload":{"lines":"29,30"}},{"content":"1.5 <code>useEnsName</code>","children":[{"content":"<strong>功能</strong>: 获取与当前账户地址关联的 ENS 名称。","children":[],"payload":{"lines":"36,37"}},{"content":"<strong>触发时机</strong>: 账户信息加载时触发，如果账户有绑定 ENS 名称，则返回该名称。","children":[],"payload":{"lines":"37,38"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>ensName</code>: 账户的 ENS 名称。","children":[],"payload":{"lines":"39,41"}}],"payload":{"lines":"38,41"}}],"payload":{"lines":"35,36"}},{"content":"1.6 <code>useChainId</code>","children":[{"content":"<strong>功能</strong>: 获取当前连接的链 ID。","children":[],"payload":{"lines":"42,43"}},{"content":"<strong>触发时机</strong>: 组件加载时触发，获取当前链 ID。","children":[],"payload":{"lines":"43,44"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>chainId</code>: 当前连接的链的 ID。","children":[],"payload":{"lines":"45,47"}}],"payload":{"lines":"44,47"}}],"payload":{"lines":"41,42"}}],"payload":{"lines":"4,5"}},{"content":"2. 网络和账户状态管理","children":[{"content":"2.1 <code>useSwitchNetwork</code>","children":[{"content":"<strong>功能</strong>: 用于切换以太坊网络。","children":[],"payload":{"lines":"52,53"}},{"content":"<strong>触发时机</strong>: 用户切换网络时调用。","children":[],"payload":{"lines":"53,54"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>switchNetwork</code>: 用于切换网络的函数。","children":[],"payload":{"lines":"55,57"}}],"payload":{"lines":"54,57"}}],"payload":{"lines":"51,52"}},{"content":"2.2 <code>useAccount</code>","children":[{"content":"<strong>功能</strong>: 获取和更新用户的账户信息。","children":[],"payload":{"lines":"58,59"}},{"content":"<strong>触发时机</strong>: 当账户发生变化时重新触发。","children":[],"payload":{"lines":"59,60"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>address</code>: 当前用户的以太坊地址。","children":[],"payload":{"lines":"61,62"}},{"content":"<code>isConnected</code>: 是否已连接钱包。","children":[],"payload":{"lines":"62,64"}}],"payload":{"lines":"60,64"}}],"payload":{"lines":"57,58"}}],"payload":{"lines":"47,48"}},{"content":"3. 数据查询阶段","children":[{"content":"3.1 <code>useBalance</code>","children":[{"content":"<strong>功能</strong>: 获取指定账户的以太坊余额。","children":[],"payload":{"lines":"69,70"}},{"content":"<strong>触发时机</strong>: 在组件加载时触发，并在余额变化时自动更新。","children":[],"payload":{"lines":"70,71"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>data</code>: 账户余额。","children":[],"payload":{"lines":"72,73"}},{"content":"<code>isLoading</code>: 是否正在加载。","children":[],"payload":{"lines":"73,74"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"74,76"}}],"payload":{"lines":"71,76"}}],"payload":{"lines":"68,69"}},{"content":"3.2 <code>useToken</code>","children":[{"content":"<strong>功能</strong>: 获取指定 ERC-20 代币的余额。","children":[],"payload":{"lines":"77,78"}},{"content":"<strong>触发时机</strong>: 在组件加载时触发，查询指定代币的余额。","children":[],"payload":{"lines":"78,79"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>data</code>: 代币余额。","children":[],"payload":{"lines":"80,81"}},{"content":"<code>isLoading</code>: 是否正在加载。","children":[],"payload":{"lines":"81,82"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"82,84"}}],"payload":{"lines":"79,84"}}],"payload":{"lines":"76,77"}},{"content":"3.3 <code>useTransactions</code>","children":[{"content":"<strong>功能</strong>: 获取当前账户的交易历史。","children":[],"payload":{"lines":"85,86"}},{"content":"<strong>触发时机</strong>: 组件加载时触发，并在交易发生时自动更新。","children":[],"payload":{"lines":"86,87"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>data</code>: 交易历史列表。","children":[],"payload":{"lines":"88,89"}},{"content":"<code>isLoading</code>: 是否正在加载。","children":[],"payload":{"lines":"89,90"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"90,92"}}],"payload":{"lines":"87,92"}}],"payload":{"lines":"84,85"}},{"content":"3.4 <code>useContract</code>","children":[{"content":"<strong>功能</strong>: 获取智能合约的实例，允许进行合约交互。","children":[],"payload":{"lines":"93,94"}},{"content":"<strong>触发时机</strong>: 初始化时调用，通常用于合约交互。","children":[],"payload":{"lines":"94,95"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>contract</code>: 合约实例，用于执行合约方法。","children":[],"payload":{"lines":"96,98"}}],"payload":{"lines":"95,98"}}],"payload":{"lines":"92,93"}}],"payload":{"lines":"64,65"}},{"content":"4. 交易发送和监听阶段","children":[{"content":"4.1 <code>useSendTransaction</code>","children":[{"content":"<strong>功能</strong>: 发送交易到以太坊网络。","children":[],"payload":{"lines":"103,104"}},{"content":"<strong>触发时机</strong>: 用户发起交易时触发。","children":[],"payload":{"lines":"104,105"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>sendTransaction</code>: 用于发送交易的函数。","children":[],"payload":{"lines":"106,107"}},{"content":"<code>isLoading</code>: 是否正在发送交易。","children":[],"payload":{"lines":"107,108"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"108,110"}}],"payload":{"lines":"105,110"}}],"payload":{"lines":"102,103"}},{"content":"4.2 <code>useWaitForTransaction</code>","children":[{"content":"<strong>功能</strong>: 等待交易被确认并监听交易的状态。","children":[],"payload":{"lines":"111,112"}},{"content":"<strong>触发时机</strong>: 当交易已发送后，调用该 hook 来等待并监听交易的状态。","children":[],"payload":{"lines":"112,113"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>data</code>: 交易的详细信息。","children":[],"payload":{"lines":"114,115"}},{"content":"<code>isLoading</code>: 是否正在等待交易确认。","children":[],"payload":{"lines":"115,116"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"116,118"}}],"payload":{"lines":"113,118"}}],"payload":{"lines":"110,111"}}],"payload":{"lines":"98,99"}},{"content":"5. 状态更新与组件卸载阶段","children":[{"content":"5.1 <code>useTransaction</code>","children":[{"content":"<strong>功能</strong>: 跟踪交易的状态和信息。","children":[],"payload":{"lines":"123,124"}},{"content":"<strong>触发时机</strong>: 交易状态变化时触发。","children":[],"payload":{"lines":"124,125"}},{"content":"<strong>返回值</strong>:","children":[{"content":"<code>data</code>: 当前交易的状态和信息。","children":[],"payload":{"lines":"126,127"}},{"content":"<code>isLoading</code>: 是否正在加载交易状态。","children":[],"payload":{"lines":"127,128"}},{"content":"<code>error</code>: 错误信息。","children":[],"payload":{"lines":"128,130"}}],"payload":{"lines":"125,130"}}],"payload":{"lines":"122,123"}},{"content":"5.2 <code>useBalance</code>, <code>useToken</code>, <code>useTransaction</code> 状态更新","children":[{"content":"<strong>功能</strong>: 当账户余额、代币余额或交易状态发生变化时，自动更新组件。","children":[],"payload":{"lines":"131,132"}},{"content":"<strong>触发时机</strong>: 状态变化时触发，通常用于余额或交易完成后。","children":[],"payload":{"lines":"132,133"}},{"content":"<strong>返回值</strong>:","children":[{"content":"更新后的余额或交易信息。","children":[],"payload":{"lines":"134,136"}}],"payload":{"lines":"133,136"}}],"payload":{"lines":"130,131"}}],"payload":{"lines":"118,119"}},{"content":"时间线总结","children":[{"content":"\n<p data-lines=\"140,141\"><strong>组件初始化阶段</strong>:</p>","children":[{"content":"<code>useAccount</code>, <code>useNetwork</code>, <code>useConnect</code>, <code>useDisconnect</code>, <code>useEnsName</code>, <code>useChainId</code> 在组件挂载时触发，获取账户和网络信息。","children":[],"payload":{"lines":"141,143"}}],"payload":{"lines":"140,143"}},{"content":"\n<p data-lines=\"143,144\"><strong>网络和账户状态管理</strong>:</p>","children":[{"content":"<code>useSwitchNetwork</code>, <code>useAccount</code> 用于处理账户信息和网络切换。","children":[],"payload":{"lines":"144,146"}}],"payload":{"lines":"143,146"}},{"content":"\n<p data-lines=\"146,147\"><strong>数据查询阶段</strong>:</p>","children":[{"content":"<code>useBalance</code>, <code>useToken</code>, <code>useTransactions</code>, <code>useContract</code> 用于查询链上数据（余额、交易历史等）。","children":[],"payload":{"lines":"147,149"}}],"payload":{"lines":"146,149"}},{"content":"\n<p data-lines=\"149,150\"><strong>交易发送和监听阶段</strong>:</p>","children":[{"content":"<code>useSendTransaction</code>, <code>useWaitForTransaction</code> 用于发送交易并监听交易的状态。","children":[],"payload":{"lines":"150,152"}}],"payload":{"lines":"149,152"}},{"content":"\n<p data-lines=\"152,153\"><strong>状态更新与组件卸载阶段</strong>:</p>","children":[{"content":"<code>useTransaction</code>, <code>useBalance</code>, <code>useToken</code> 等在状态变化时触发，重新渲染组件。","children":[],"payload":{"lines":"153,155"}}],"payload":{"lines":"152,155"}}],"payload":{"lines":"138,139"}}],"payload":{"lines":"0,1"}},{})</script>
</body>
</html>
