<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.8.0/styles/default.min.css"><link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.17.2/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.8.5/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.17.2/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.17.2/dist/index.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Web 3.0 应用架构解析","children":[{"content":"1. 引言","children":[],"payload":{"lines":"4,5"}},{"content":"2. Web 3.0 与 Web 2.0 架构对比","children":[{"content":"2.1 Web 2.0 架构","children":[{"content":"<strong>前端</strong>: 使用 JavaScript、HTML、CSS 展示 UI 并与后端交互。","children":[],"payload":{"lines":"13,14"}},{"content":"<strong>后端</strong>: 使用 Node.js、Java、Python 等语言实现业务逻辑。","children":[],"payload":{"lines":"14,15"}},{"content":"<strong>数据库</strong>: 存储用户数据、帖子、评论等。","children":[],"payload":{"lines":"15,17"}}],"payload":{"lines":"10,11"}},{"content":"2.2 Web 3.0 架构","children":[{"content":"<strong>前端</strong>: 和 Web 2.0 前端相似，但前端与智能合约进行交互。","children":[],"payload":{"lines":"22,23"}},{"content":"<strong>智能合约</strong>: 运行在区块链上的去中心化应用逻辑。","children":[],"payload":{"lines":"23,24"}},{"content":"<strong>区块链</strong>: 作为去中心化的状态机，维护应用状态。","children":[],"payload":{"lines":"24,25"}},{"content":"<strong>去中心化存储</strong>: 使用 IPFS 或 Swarm 存储应用数据，减少存储在区块链上的成本。","children":[],"payload":{"lines":"25,27"}}],"payload":{"lines":"19,20"}}],"payload":{"lines":"8,9"}},{"content":"3. Web 3.0 架构组件","children":[{"content":"3.1 区块链","children":[{"content":"关键特点：","children":[{"content":"<strong>去中心化</strong>: 无单一实体控制。","children":[],"payload":{"lines":"34,35"}},{"content":"<strong>数据不可变</strong>: 只能写入数据，无法更新已有数据。","children":[],"payload":{"lines":"35,37"}}],"payload":{"lines":"33,34"}}],"payload":{"lines":"29,30"}},{"content":"3.2 智能合约","children":[{"content":"关键特点：","children":[{"content":"<strong>公开透明</strong>: 合约代码存储在区块链上，任何人都可以检查。","children":[],"payload":{"lines":"42,43"}},{"content":"<strong>不可篡改</strong>: 一旦部署，合约代码无法更改。","children":[],"payload":{"lines":"43,45"}}],"payload":{"lines":"41,42"}}],"payload":{"lines":"37,38"}},{"content":"3.3 以太坊虚拟机 (EVM)","children":[],"payload":{"lines":"45,46"}},{"content":"3.4 前端与智能合约的交互","children":[{"content":"交互流程：","children":[{"content":"<strong>前端与智能合约交互</strong>: 前端通过 Web3 或 ethers.js 等库与智能合约进行通信。","children":[],"payload":{"lines":"54,55"}},{"content":"<strong>广播交易</strong>: 交易被广播到区块链网络，矿工验证并执行。","children":[],"payload":{"lines":"55,56"}},{"content":"<strong>交易签名</strong>: 使用如 <strong>Metamask</strong> 等钱包工具，用户对交易进行签名。","children":[],"payload":{"lines":"56,58"}}],"payload":{"lines":"53,54"}}],"payload":{"lines":"49,50"}},{"content":"3.5 区块链存储与查询","children":[{"content":"3.5.1 存储","children":[{"content":"<strong>IPFS</strong>: 分布式文件系统，用于存储和访问数据。","children":[],"payload":{"lines":"64,65"}},{"content":"<strong>Swarm</strong>: 类似 IPFS 的去中心化存储系统，与以太坊集成。","children":[],"payload":{"lines":"65,67"}}],"payload":{"lines":"60,61"}},{"content":"3.5.2 查询","children":[{"content":"<strong>智能合约事件</strong>: 通过事件触发，前端可以监听和响应区块链上的状态变化。","children":[],"payload":{"lines":"69,70"}},{"content":"<strong>The Graph</strong>: 一个链下数据索引方案，可以用 GraphQL 查询区块链数据。","children":[],"payload":{"lines":"70,72"}}],"payload":{"lines":"67,68"}}],"payload":{"lines":"58,59"}},{"content":"3.6 DApp 架构示意图","children":[{"content":"<pre><code class=\"language-plaintext\">+---------------------+\n|    Frontend (UI)    |\n|    (IPFS/Swarm)     |\n+---------------------+\n           |\n           v\n+---------------------+        +-------------------+\n|  Smart Contracts    |&lt;------&gt;|    Ethereum       |\n|   (Solidity)        |        |    Blockchain     |\n+---------------------+        +-------------------+\n           |\n           v\n+---------------------+\n|   Decentralized     |\n|   Storage (IPFS)    |\n+---------------------+\n</code></pre>","children":[]}],"payload":{"lines":"72,73"}}],"payload":{"lines":"27,28"}},{"content":"4. 去中心化存储与查询","children":[{"content":"4.1 IPFS 与 Swarm","children":[{"content":"<strong>IPFS</strong>: 利用 P2P 网络存储和检索文件，使用 <strong>Filecoin</strong> 激励存储。","children":[],"payload":{"lines":"104,105"}},{"content":"<strong>Swarm</strong>: 类似于 IPFS，但更紧密地与以太坊集成，提供去中心化存储和检索。","children":[],"payload":{"lines":"105,107"}}],"payload":{"lines":"100,101"}},{"content":"4.2 The Graph","children":[],"payload":{"lines":"107,108"}}],"payload":{"lines":"98,99"}},{"content":"5. 扩容方案","children":[{"content":"5.1 以太坊的扩展性问题","children":[],"payload":{"lines":"113,114"}},{"content":"5.2 Layer 2 扩容方案","children":[{"content":"<strong>Polygon</strong>: 提供了侧链解决方案，减少了 Gas 费用和交易延迟。","children":[],"payload":{"lines":"121,122"}},{"content":"<strong>Optimistic Rollup</strong> 和 <strong>zkRollup</strong>: 将多个交易捆绑后提交到主链，提高效率并降低成本。","children":[],"payload":{"lines":"122,124"}}],"payload":{"lines":"117,118"}},{"content":"5.3 DApp 的扩容架构","children":[{"content":"<pre><code class=\"language-plaintext\">+---------------------+\n|    Frontend (UI)    |\n+---------------------+\n           |\n           v\n+---------------------+\n|  Smart Contracts    |\n|   (Layer 2)         |\n+---------------------+\n           |\n           v\n+---------------------+\n|    Ethereum         |\n|   (Layer 1)         |\n+---------------------+\n</code></pre>","children":[]}],"payload":{"lines":"124,125"}}],"payload":{"lines":"111,112"}},{"content":"6. 结论","children":[{"content":"6.1 参考工具与服务","children":[{"content":"<strong>Infura</strong>: 提供区块链节点服务，减少自己搭建节点的复杂度。","children":[],"payload":{"lines":"149,150"}},{"content":"<strong>Alchemy</strong>: 提供类似 Infura 的区块链基础设施服务。","children":[],"payload":{"lines":"150,151"}},{"content":"<strong>Metamask</strong>: 用户钱包，用于管理密钥和签名交易。","children":[],"payload":{"lines":"151,152"}},{"content":"<strong>Hardhat</strong>: 以太坊开发框架，帮助开发者部署和测试智能合约。","children":[],"payload":{"lines":"152,153"}},{"content":"<strong>IPFS</strong>: 去中心化文件存储系统。","children":[],"payload":{"lines":"153,154"}},{"content":"<strong>The Graph</strong>: 去中心化的区块链数据索引协议，帮助开发者快速查询链上数据。","children":[],"payload":{"lines":"154,156"}}],"payload":{"lines":"148,149"}},{"content":"说明：","children":[{"content":"这份文档详细阐述了 Web 3.0 应用架构的各个组件，并通过对比 Web 2.0 架构，解释了去中心化应用（DApp）如何利用区块链技术和智能合约来进行数据存储、交互和扩容。","children":[],"payload":{"lines":"161,162"}},{"content":"该文档包括区块链、智能合约、前端与智能合约的交互、去中心化存储方案、扩容技术等的详细说明，适合帮助开发者深入理解 Web 3.0 应用的构建和运行原理。","children":[],"payload":{"lines":"162,163"}}],"payload":{"lines":"160,161"}}],"payload":{"lines":"144,145"}}],"payload":{"lines":"2,3"}},{})</script>
</body>
</html>
